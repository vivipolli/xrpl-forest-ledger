{
  "version": 3,
  "sources": ["../../fetch-ponyfill/build/fetch-browser.js", "../../os-browserify/browser.js", "../../xumm-sdk/dist/src/utils.js", "../../xumm-sdk/dist/src/Meta.js", "../../xumm-sdk/dist/src/Storage.js", "../../es5-ext/global.js", "../../websocket/package.json", "../../websocket/lib/version.js", "../../websocket/lib/browser.js", "../../xumm-sdk/dist/src/Payload.js", "../../xumm-sdk/dist/src/JwtUserdata.js", "../../xumm-sdk/dist/src/xApp.js", "../../xumm-sdk/dist/src/Push.js", "../../xumm-sdk/dist/src/index.js"],
  "sourcesContent": ["(function (global) {\n  'use strict';\n\n  function fetchPonyfill(options) {\n    var Promise = options && options.Promise || global.Promise;\n    var XMLHttpRequest = options && options.XMLHttpRequest || global.XMLHttpRequest;\n\n    return (function () {\n      var globalThis = Object.create(global, {\n        fetch: {\n          value: undefined,\n          writable: true\n        }\n      });\n\n      (function (global, factory) {\n        typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n        typeof define === 'function' && define.amd ? define(['exports'], factory) :\n        (factory((global.WHATWGFetch = {})));\n      }(this, (function (exports) { 'use strict';\n\n        var global =\n          (typeof globalThis !== 'undefined' && globalThis) ||\n          (typeof self !== 'undefined' && self) ||\n          (typeof global !== 'undefined' && global);\n\n        var support = {\n          searchParams: 'URLSearchParams' in global,\n          iterable: 'Symbol' in global && 'iterator' in Symbol,\n          blob:\n            'FileReader' in global &&\n            'Blob' in global &&\n            (function() {\n              try {\n                new Blob();\n                return true\n              } catch (e) {\n                return false\n              }\n            })(),\n          formData: 'FormData' in global,\n          arrayBuffer: 'ArrayBuffer' in global\n        };\n\n        function isDataView(obj) {\n          return obj && DataView.prototype.isPrototypeOf(obj)\n        }\n\n        if (support.arrayBuffer) {\n          var viewClasses = [\n            '[object Int8Array]',\n            '[object Uint8Array]',\n            '[object Uint8ClampedArray]',\n            '[object Int16Array]',\n            '[object Uint16Array]',\n            '[object Int32Array]',\n            '[object Uint32Array]',\n            '[object Float32Array]',\n            '[object Float64Array]'\n          ];\n\n          var isArrayBufferView =\n            ArrayBuffer.isView ||\n            function(obj) {\n              return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n            };\n        }\n\n        function normalizeName(name) {\n          if (typeof name !== 'string') {\n            name = String(name);\n          }\n          if (/[^a-z0-9\\-#$%&'*+.^_`|~!]/i.test(name) || name === '') {\n            throw new TypeError('Invalid character in header field name')\n          }\n          return name.toLowerCase()\n        }\n\n        function normalizeValue(value) {\n          if (typeof value !== 'string') {\n            value = String(value);\n          }\n          return value\n        }\n\n        // Build a destructive iterator for the value list\n        function iteratorFor(items) {\n          var iterator = {\n            next: function() {\n              var value = items.shift();\n              return {done: value === undefined, value: value}\n            }\n          };\n\n          if (support.iterable) {\n            iterator[Symbol.iterator] = function() {\n              return iterator\n            };\n          }\n\n          return iterator\n        }\n\n        function Headers(headers) {\n          this.map = {};\n\n          if (headers instanceof Headers) {\n            headers.forEach(function(value, name) {\n              this.append(name, value);\n            }, this);\n          } else if (Array.isArray(headers)) {\n            headers.forEach(function(header) {\n              this.append(header[0], header[1]);\n            }, this);\n          } else if (headers) {\n            Object.getOwnPropertyNames(headers).forEach(function(name) {\n              this.append(name, headers[name]);\n            }, this);\n          }\n        }\n\n        Headers.prototype.append = function(name, value) {\n          name = normalizeName(name);\n          value = normalizeValue(value);\n          var oldValue = this.map[name];\n          this.map[name] = oldValue ? oldValue + ', ' + value : value;\n        };\n\n        Headers.prototype['delete'] = function(name) {\n          delete this.map[normalizeName(name)];\n        };\n\n        Headers.prototype.get = function(name) {\n          name = normalizeName(name);\n          return this.has(name) ? this.map[name] : null\n        };\n\n        Headers.prototype.has = function(name) {\n          return this.map.hasOwnProperty(normalizeName(name))\n        };\n\n        Headers.prototype.set = function(name, value) {\n          this.map[normalizeName(name)] = normalizeValue(value);\n        };\n\n        Headers.prototype.forEach = function(callback, thisArg) {\n          for (var name in this.map) {\n            if (this.map.hasOwnProperty(name)) {\n              callback.call(thisArg, this.map[name], name, this);\n            }\n          }\n        };\n\n        Headers.prototype.keys = function() {\n          var items = [];\n          this.forEach(function(value, name) {\n            items.push(name);\n          });\n          return iteratorFor(items)\n        };\n\n        Headers.prototype.values = function() {\n          var items = [];\n          this.forEach(function(value) {\n            items.push(value);\n          });\n          return iteratorFor(items)\n        };\n\n        Headers.prototype.entries = function() {\n          var items = [];\n          this.forEach(function(value, name) {\n            items.push([name, value]);\n          });\n          return iteratorFor(items)\n        };\n\n        if (support.iterable) {\n          Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n        }\n\n        function consumed(body) {\n          if (body.bodyUsed) {\n            return Promise.reject(new TypeError('Already read'))\n          }\n          body.bodyUsed = true;\n        }\n\n        function fileReaderReady(reader) {\n          return new Promise(function(resolve, reject) {\n            reader.onload = function() {\n              resolve(reader.result);\n            };\n            reader.onerror = function() {\n              reject(reader.error);\n            };\n          })\n        }\n\n        function readBlobAsArrayBuffer(blob) {\n          var reader = new FileReader();\n          var promise = fileReaderReady(reader);\n          reader.readAsArrayBuffer(blob);\n          return promise\n        }\n\n        function readBlobAsText(blob) {\n          var reader = new FileReader();\n          var promise = fileReaderReady(reader);\n          reader.readAsText(blob);\n          return promise\n        }\n\n        function readArrayBufferAsText(buf) {\n          var view = new Uint8Array(buf);\n          var chars = new Array(view.length);\n\n          for (var i = 0; i < view.length; i++) {\n            chars[i] = String.fromCharCode(view[i]);\n          }\n          return chars.join('')\n        }\n\n        function bufferClone(buf) {\n          if (buf.slice) {\n            return buf.slice(0)\n          } else {\n            var view = new Uint8Array(buf.byteLength);\n            view.set(new Uint8Array(buf));\n            return view.buffer\n          }\n        }\n\n        function Body() {\n          this.bodyUsed = false;\n\n          this._initBody = function(body) {\n            /*\n              fetch-mock wraps the Response object in an ES6 Proxy to\n              provide useful test harness features such as flush. However, on\n              ES5 browsers without fetch or Proxy support pollyfills must be used;\n              the proxy-pollyfill is unable to proxy an attribute unless it exists\n              on the object before the Proxy is created. This change ensures\n              Response.bodyUsed exists on the instance, while maintaining the\n              semantic of setting Request.bodyUsed in the constructor before\n              _initBody is called.\n            */\n            this.bodyUsed = this.bodyUsed;\n            this._bodyInit = body;\n            if (!body) {\n              this._bodyText = '';\n            } else if (typeof body === 'string') {\n              this._bodyText = body;\n            } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n              this._bodyBlob = body;\n            } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n              this._bodyFormData = body;\n            } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n              this._bodyText = body.toString();\n            } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n              this._bodyArrayBuffer = bufferClone(body.buffer);\n              // IE 10-11 can't handle a DataView body.\n              this._bodyInit = new Blob([this._bodyArrayBuffer]);\n            } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n              this._bodyArrayBuffer = bufferClone(body);\n            } else {\n              this._bodyText = body = Object.prototype.toString.call(body);\n            }\n\n            if (!this.headers.get('content-type')) {\n              if (typeof body === 'string') {\n                this.headers.set('content-type', 'text/plain;charset=UTF-8');\n              } else if (this._bodyBlob && this._bodyBlob.type) {\n                this.headers.set('content-type', this._bodyBlob.type);\n              } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n                this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n              }\n            }\n          };\n\n          if (support.blob) {\n            this.blob = function() {\n              var rejected = consumed(this);\n              if (rejected) {\n                return rejected\n              }\n\n              if (this._bodyBlob) {\n                return Promise.resolve(this._bodyBlob)\n              } else if (this._bodyArrayBuffer) {\n                return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n              } else if (this._bodyFormData) {\n                throw new Error('could not read FormData body as blob')\n              } else {\n                return Promise.resolve(new Blob([this._bodyText]))\n              }\n            };\n\n            this.arrayBuffer = function() {\n              if (this._bodyArrayBuffer) {\n                var isConsumed = consumed(this);\n                if (isConsumed) {\n                  return isConsumed\n                }\n                if (ArrayBuffer.isView(this._bodyArrayBuffer)) {\n                  return Promise.resolve(\n                    this._bodyArrayBuffer.buffer.slice(\n                      this._bodyArrayBuffer.byteOffset,\n                      this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength\n                    )\n                  )\n                } else {\n                  return Promise.resolve(this._bodyArrayBuffer)\n                }\n              } else {\n                return this.blob().then(readBlobAsArrayBuffer)\n              }\n            };\n          }\n\n          this.text = function() {\n            var rejected = consumed(this);\n            if (rejected) {\n              return rejected\n            }\n\n            if (this._bodyBlob) {\n              return readBlobAsText(this._bodyBlob)\n            } else if (this._bodyArrayBuffer) {\n              return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n            } else if (this._bodyFormData) {\n              throw new Error('could not read FormData body as text')\n            } else {\n              return Promise.resolve(this._bodyText)\n            }\n          };\n\n          if (support.formData) {\n            this.formData = function() {\n              return this.text().then(decode)\n            };\n          }\n\n          this.json = function() {\n            return this.text().then(JSON.parse)\n          };\n\n          return this\n        }\n\n        // HTTP methods whose capitalization should be normalized\n        var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n        function normalizeMethod(method) {\n          var upcased = method.toUpperCase();\n          return methods.indexOf(upcased) > -1 ? upcased : method\n        }\n\n        function Request(input, options) {\n          if (!(this instanceof Request)) {\n            throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n          }\n\n          options = options || {};\n          var body = options.body;\n\n          if (input instanceof Request) {\n            if (input.bodyUsed) {\n              throw new TypeError('Already read')\n            }\n            this.url = input.url;\n            this.credentials = input.credentials;\n            if (!options.headers) {\n              this.headers = new Headers(input.headers);\n            }\n            this.method = input.method;\n            this.mode = input.mode;\n            this.signal = input.signal;\n            if (!body && input._bodyInit != null) {\n              body = input._bodyInit;\n              input.bodyUsed = true;\n            }\n          } else {\n            this.url = String(input);\n          }\n\n          this.credentials = options.credentials || this.credentials || 'same-origin';\n          if (options.headers || !this.headers) {\n            this.headers = new Headers(options.headers);\n          }\n          this.method = normalizeMethod(options.method || this.method || 'GET');\n          this.mode = options.mode || this.mode || null;\n          this.signal = options.signal || this.signal;\n          this.referrer = null;\n\n          if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n            throw new TypeError('Body not allowed for GET or HEAD requests')\n          }\n          this._initBody(body);\n\n          if (this.method === 'GET' || this.method === 'HEAD') {\n            if (options.cache === 'no-store' || options.cache === 'no-cache') {\n              // Search for a '_' parameter in the query string\n              var reParamSearch = /([?&])_=[^&]*/;\n              if (reParamSearch.test(this.url)) {\n                // If it already exists then set the value with the current time\n                this.url = this.url.replace(reParamSearch, '$1_=' + new Date().getTime());\n              } else {\n                // Otherwise add a new '_' parameter to the end with the current time\n                var reQueryString = /\\?/;\n                this.url += (reQueryString.test(this.url) ? '&' : '?') + '_=' + new Date().getTime();\n              }\n            }\n          }\n        }\n\n        Request.prototype.clone = function() {\n          return new Request(this, {body: this._bodyInit})\n        };\n\n        function decode(body) {\n          var form = new FormData();\n          body\n            .trim()\n            .split('&')\n            .forEach(function(bytes) {\n              if (bytes) {\n                var split = bytes.split('=');\n                var name = split.shift().replace(/\\+/g, ' ');\n                var value = split.join('=').replace(/\\+/g, ' ');\n                form.append(decodeURIComponent(name), decodeURIComponent(value));\n              }\n            });\n          return form\n        }\n\n        function parseHeaders(rawHeaders) {\n          var headers = new Headers();\n          // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n          // https://tools.ietf.org/html/rfc7230#section-3.2\n          var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n          // Avoiding split via regex to work around a common IE11 bug with the core-js 3.6.0 regex polyfill\n          // https://github.com/github/fetch/issues/748\n          // https://github.com/zloirock/core-js/issues/751\n          preProcessedHeaders\n            .split('\\r')\n            .map(function(header) {\n              return header.indexOf('\\n') === 0 ? header.substr(1, header.length) : header\n            })\n            .forEach(function(line) {\n              var parts = line.split(':');\n              var key = parts.shift().trim();\n              if (key) {\n                var value = parts.join(':').trim();\n                headers.append(key, value);\n              }\n            });\n          return headers\n        }\n\n        Body.call(Request.prototype);\n\n        function Response(bodyInit, options) {\n          if (!(this instanceof Response)) {\n            throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n          }\n          if (!options) {\n            options = {};\n          }\n\n          this.type = 'default';\n          this.status = options.status === undefined ? 200 : options.status;\n          this.ok = this.status >= 200 && this.status < 300;\n          this.statusText = 'statusText' in options ? options.statusText : '';\n          this.headers = new Headers(options.headers);\n          this.url = options.url || '';\n          this._initBody(bodyInit);\n        }\n\n        Body.call(Response.prototype);\n\n        Response.prototype.clone = function() {\n          return new Response(this._bodyInit, {\n            status: this.status,\n            statusText: this.statusText,\n            headers: new Headers(this.headers),\n            url: this.url\n          })\n        };\n\n        Response.error = function() {\n          var response = new Response(null, {status: 0, statusText: ''});\n          response.type = 'error';\n          return response\n        };\n\n        var redirectStatuses = [301, 302, 303, 307, 308];\n\n        Response.redirect = function(url, status) {\n          if (redirectStatuses.indexOf(status) === -1) {\n            throw new RangeError('Invalid status code')\n          }\n\n          return new Response(null, {status: status, headers: {location: url}})\n        };\n\n        exports.DOMException = global.DOMException;\n        try {\n          new exports.DOMException();\n        } catch (err) {\n          exports.DOMException = function(message, name) {\n            this.message = message;\n            this.name = name;\n            var error = Error(message);\n            this.stack = error.stack;\n          };\n          exports.DOMException.prototype = Object.create(Error.prototype);\n          exports.DOMException.prototype.constructor = exports.DOMException;\n        }\n\n        function fetch(input, init) {\n          return new Promise(function(resolve, reject) {\n            var request = new Request(input, init);\n\n            if (request.signal && request.signal.aborted) {\n              return reject(new exports.DOMException('Aborted', 'AbortError'))\n            }\n\n            var xhr = new XMLHttpRequest();\n\n            function abortXhr() {\n              xhr.abort();\n            }\n\n            xhr.onload = function() {\n              var options = {\n                status: xhr.status,\n                statusText: xhr.statusText,\n                headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n              };\n              options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n              var body = 'response' in xhr ? xhr.response : xhr.responseText;\n              setTimeout(function() {\n                resolve(new Response(body, options));\n              }, 0);\n            };\n\n            xhr.onerror = function() {\n              setTimeout(function() {\n                reject(new TypeError('Network request failed'));\n              }, 0);\n            };\n\n            xhr.ontimeout = function() {\n              setTimeout(function() {\n                reject(new TypeError('Network request failed'));\n              }, 0);\n            };\n\n            xhr.onabort = function() {\n              setTimeout(function() {\n                reject(new exports.DOMException('Aborted', 'AbortError'));\n              }, 0);\n            };\n\n            function fixUrl(url) {\n              try {\n                return url === '' && global.location.href ? global.location.href : url\n              } catch (e) {\n                return url\n              }\n            }\n\n            xhr.open(request.method, fixUrl(request.url), true);\n\n            if (request.credentials === 'include') {\n              xhr.withCredentials = true;\n            } else if (request.credentials === 'omit') {\n              xhr.withCredentials = false;\n            }\n\n            if ('responseType' in xhr) {\n              if (support.blob) {\n                xhr.responseType = 'blob';\n              } else if (\n                support.arrayBuffer &&\n                request.headers.get('Content-Type') &&\n                request.headers.get('Content-Type').indexOf('application/octet-stream') !== -1\n              ) {\n                xhr.responseType = 'arraybuffer';\n              }\n            }\n\n            if (init && typeof init.headers === 'object' && !(init.headers instanceof Headers)) {\n              Object.getOwnPropertyNames(init.headers).forEach(function(name) {\n                xhr.setRequestHeader(name, normalizeValue(init.headers[name]));\n              });\n            } else {\n              request.headers.forEach(function(value, name) {\n                xhr.setRequestHeader(name, value);\n              });\n            }\n\n            if (request.signal) {\n              request.signal.addEventListener('abort', abortXhr);\n\n              xhr.onreadystatechange = function() {\n                // DONE (success or failure)\n                if (xhr.readyState === 4) {\n                  request.signal.removeEventListener('abort', abortXhr);\n                }\n              };\n            }\n\n            xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n          })\n        }\n\n        fetch.polyfill = true;\n\n        if (!global.fetch) {\n          global.fetch = fetch;\n          global.Headers = Headers;\n          global.Request = Request;\n          global.Response = Response;\n        }\n\n        exports.Headers = Headers;\n        exports.Request = Request;\n        exports.Response = Response;\n        exports.fetch = fetch;\n\n        Object.defineProperty(exports, '__esModule', { value: true });\n\n      })));\n\n\n      return {\n        fetch: globalThis.fetch,\n        Headers: globalThis.Headers,\n        Request: globalThis.Request,\n        Response: globalThis.Response,\n        DOMException: globalThis.DOMException\n      };\n    }());\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return fetchPonyfill;\n    });\n  } else if (typeof exports === 'object') {\n    module.exports = fetchPonyfill;\n  } else {\n    global.fetchPonyfill = fetchPonyfill;\n  }\n}(typeof globalThis !== 'undefined' ? globalThis : typeof self !== 'undefined' ? self : typeof global !== 'undefined' ? global : this));\n\n", "exports.endianness = function () { return 'LE' };\n\nexports.hostname = function () {\n    if (typeof location !== 'undefined') {\n        return location.hostname\n    }\n    else return '';\n};\n\nexports.loadavg = function () { return [] };\n\nexports.uptime = function () { return 0 };\n\nexports.freemem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.totalmem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.cpus = function () { return [] };\n\nexports.type = function () { return 'Browser' };\n\nexports.release = function () {\n    if (typeof navigator !== 'undefined') {\n        return navigator.appVersion;\n    }\n    return '';\n};\n\nexports.networkInterfaces\n= exports.getNetworkInterfaces\n= function () { return {} };\n\nexports.arch = function () { return 'javascript' };\n\nexports.platform = function () { return 'browser' };\n\nexports.tmpdir = exports.tmpDir = function () {\n    return '/tmp';\n};\n\nexports.EOL = '\\n';\n\nexports.homedir = function () {\n\treturn '/'\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeferredPromise = exports.throwIfError = void 0;\nfunction throwIfError(call) {\n    var _a, _b, _c, _d, _e, _f;\n    const isFatalError = call.message !== undefined;\n    if (isFatalError) {\n        throw new Error(call.message);\n    }\n    const isError = call.next === undefined\n        && ((_b = (_a = call) === null || _a === void 0 ? void 0 : _a.meta) === null || _b === void 0 ? void 0 : _b.uuid) === undefined\n        && ((_d = (_c = call) === null || _c === void 0 ? void 0 : _c.application) === null || _d === void 0 ? void 0 : _d.uuidv4) === undefined\n        && ((_f = (_e = call) === null || _e === void 0 ? void 0 : _e.error) === null || _f === void 0 ? void 0 : _f.code) !== undefined;\n    if (isError) {\n        const e = call.error;\n        /**\n         * TODO:\n         *   add local error code list + descriptions?\n         *   (note: can be endpoint specific,)\n         */\n        throw new Error(`Error code ${e.code}, see XUMM Dev Console, reference: ${e.reference}`);\n    }\n}\nexports.throwIfError = throwIfError;\nclass DeferredPromise {\n    constructor() {\n        this.resolveFn = (_arg) => {\n            // Will be replaced by Promise fn\n        };\n        this.rejectFn = (_arg) => {\n            // Will be replaced by Promise fn\n        };\n        this.promise = new Promise((resolve, reject) => {\n            this.resolveFn = resolve;\n            this.rejectFn = reject;\n        });\n    }\n    resolve(arg) {\n        this.resolveFn(arg);\n        return this.promise;\n    }\n    reject(arg) {\n        this.rejectFn(arg);\n        return this.promise;\n    }\n}\nexports.DeferredPromise = DeferredPromise;\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Meta = void 0;\nconst debug_1 = require(\"debug\");\nconst fetch_ponyfill_1 = __importDefault(require(\"fetch-ponyfill\"));\nconst { fetch, Request, Response, Headers } = fetch_ponyfill_1.default();\nconst os_browserify_1 = require(\"os-browserify\");\nconst utils_1 = require(\"./utils\");\nconst index_1 = require(\"./index\");\nconst log = debug_1.debug('xumm-sdk:meta');\nclass Meta {\n    constructor(apiKey, apiSecret) {\n        this.isBrowser = false;\n        this.jwtFlow = false;\n        // Dependency injection: parent\n        this.injected = false;\n        this.endpoint = 'https://xumm.app';\n        log('Constructed');\n        const uuidRe = new RegExp('^[a-f0-9]{8}\\-[a-f0-9]{4}\\-[a-f0-9]{4}\\-[a-f0-9]{4}\\-[a-f0-9]{12}$');\n        const secret = {\n            split: apiSecret.split(':'),\n            uuidv4: ''\n        };\n        if (secret.split.length === 3 && secret.split.slice(0, 2).join(':') === 'xApp:OneTimeToken') {\n            // xApp JWT flow\n            secret.uuidv4 = secret.split[2];\n            this.jwtFlow = true;\n        }\n        else if (secret.split.length > 1 && secret.split[0] === 'RAWJWT') {\n            this.jwtFlow = true;\n            this.jwt = secret.split.slice(1).join(':');\n        }\n        else {\n            // Regular SDK/API calls\n            secret.uuidv4 = apiSecret;\n        }\n        if (!uuidRe.test(apiKey) || !uuidRe.test(secret.uuidv4)) {\n            if (!this.jwtFlow) {\n                throw new Error('Invalid API Key and/or API Secret. Use dotenv or constructor params.');\n            }\n            else {\n                if (!this.jwt) {\n                    throw new Error('Invalid API Key and/or OTT (One Time Token). ' +\n                        'Provide OTT param (2nd param) or make sure `xAppToken` query param is present (Browser)');\n                }\n            }\n        }\n        if (typeof globalThis !== 'undefined' && Object.keys(globalThis).indexOf('window') < 0) {\n            log('Running in node');\n        }\n        else {\n            console.log('XUMM SDK: Running in browser');\n            this.isBrowser = true;\n        }\n        this.apiKey = apiKey;\n        this.apiSecret = secret.uuidv4;\n        if (this.jwtFlow && !this.jwt) {\n            // Allow calls to wait for JWT\n            this.authPromise = new Promise(resolve => {\n                this.authPromiseResolve = resolve;\n            });\n            // Eventloop: wait for _inject @ index.ts (XummSdk Constructor) to have happened\n            Promise.resolve()\n                .then(() => this.authorize())\n                .catch(e => {\n                log('Authorize error:', e.message);\n                if (this === null || this === void 0 ? void 0 : this.invoker) {\n                    this.invoker.caught(e);\n                }\n                if (this.authPromiseResolve) {\n                    this.authPromiseResolve();\n                }\n            });\n        }\n        return this;\n    }\n    setEndpoint(endpoint) {\n        if (endpoint.match(/^http/)) {\n            this.endpoint = endpoint.trim();\n            return true;\n        }\n        return false;\n    }\n    authorize() {\n        var _a, _b, _c, _d;\n        return __awaiter(this, void 0, void 0, function* () {\n            log('JWT Authorize', this.apiSecret);\n            let store;\n            if ((this === null || this === void 0 ? void 0 : this.invoker) && this.invoker.constructor === index_1.XummSdkJwt) {\n                store = this.invoker._jwtStore(this, (jwt) => this.jwt = jwt);\n            }\n            const authorizeData = (store === null || store === void 0 ? void 0 : store.get(this.apiSecret)) || (yield this.call('authorize'));\n            if ((_b = (_a = authorizeData) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.code) {\n                log(`Could not resolve API Key & OTT to JWT (already fetched? Unauthorized?)`);\n                if ((this === null || this === void 0 ? void 0 : this.invoker) && this.invoker.constructor === index_1.XummSdkJwt && ((_c = this === null || this === void 0 ? void 0 : this.invoker) === null || _c === void 0 ? void 0 : _c.fatalHandler)) {\n                    this.invoker.fatalHandler(new Error(authorizeData.error.reference));\n                }\n                else {\n                    utils_1.throwIfError(authorizeData);\n                }\n            }\n            else if ((_d = authorizeData) === null || _d === void 0 ? void 0 : _d.jwt) {\n                const JwtOttResponse = authorizeData;\n                store === null || store === void 0 ? void 0 : store.set(this.apiSecret, JwtOttResponse);\n            }\n            else {\n                throw new Error(`Unexpected response for xApp JWT authorize request`);\n            }\n            if (this.authPromiseResolve) {\n                this.authPromiseResolve();\n            }\n        });\n    }\n    call(endpoint, httpMethod = 'GET', data) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const method = httpMethod.toUpperCase();\n            const trEndpoint = endpoint.split('/')[0];\n            if (this.jwtFlow && !(this === null || this === void 0 ? void 0 : this.jwt) && this.authPromise && endpoint !== 'authorize') {\n                yield this.authPromise;\n            }\n            try {\n                let body;\n                if (typeof data !== 'undefined') {\n                    if (typeof data === 'object' && data !== null) {\n                        body = JSON.stringify(data);\n                    }\n                    if (typeof data === 'string') {\n                        body = data;\n                    }\n                }\n                const headers = {\n                    'Content-Type': 'application/json'\n                };\n                if (!this.isBrowser) {\n                    Object.assign(headers, {\n                        'User-Agent': `xumm-sdk/node (${os_browserify_1.hostname()}) node-fetch`\n                    });\n                }\n                if (!this.jwtFlow) {\n                    Object.assign(headers, {\n                        'x-api-key': this.apiKey,\n                        'x-api-secret': this.apiSecret\n                    });\n                }\n                else {\n                    if (endpoint === 'authorize') {\n                        Object.assign(headers, {\n                            'x-api-key': this.apiKey,\n                            'x-api-ott': this.apiSecret\n                        });\n                    }\n                    else {\n                        Object.assign(headers, {\n                            'Authorization': 'Bearer ' + this.jwt\n                        });\n                    }\n                }\n                const jwtEndpoints = [\n                    'authorize',\n                    'ping',\n                    'curated-assets',\n                    'rates',\n                    'payload',\n                    'userdata',\n                    'xrpl-tx',\n                    'nftoken-detail',\n                    'rails',\n                    'hookhash'\n                ];\n                const endpointType = this.jwtFlow && jwtEndpoints.indexOf(trEndpoint) > -1\n                    ? 'jwt'\n                    : 'platform';\n                const request = yield fetch(this.endpoint + '/api/v1/' + endpointType + '/' + endpoint, {\n                    method,\n                    body,\n                    headers\n                });\n                const json = yield request.json();\n                // log({json})\n                return json;\n            }\n            catch (e) {\n                const err = new Error(`Unexpected response from XUMM API [${method}:${trEndpoint}]`);\n                err.stack = ((_a = e) === null || _a === void 0 ? void 0 : _a.stack) || undefined;\n                throw err;\n            }\n        });\n    }\n    ping() {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            const pong = yield this.call('ping');\n            utils_1.throwIfError(pong);\n            if (typeof pong.auth !== 'undefined') {\n                return pong.auth;\n            }\n            if (typeof ((_a = pong) === null || _a === void 0 ? void 0 : _a.ott_uuidv4) !== 'undefined') {\n                // return pong as xAppJwtPong\n                return {\n                    application: {\n                        uuidv4: pong.app_uuidv4,\n                        name: pong.app_name\n                    },\n                    jwtData: pong\n                };\n            }\n            if (typeof ((_b = pong) === null || _b === void 0 ? void 0 : _b.usertoken_uuidv4) !== 'undefined') {\n                // return pong as JwtPong\n                return {\n                    application: {\n                        uuidv4: pong.client_id,\n                        name: pong.app_name\n                    },\n                    jwtData: pong\n                };\n            }\n            throw new Error(`Unexpected response for ping request`);\n        });\n    }\n    getCuratedAssets() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.call('curated-assets');\n        });\n    }\n    getRates(currencyCode) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.call('rates/' + currencyCode.trim().toUpperCase());\n        });\n    }\n    getKycStatus(userTokenOrAccount) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (userTokenOrAccount.trim().match(/^r/)) {\n                const call = yield this.call('kyc-status/' + userTokenOrAccount.trim());\n                return (call === null || call === void 0 ? void 0 : call.kycApproved) ? 'SUCCESSFUL' : 'NONE';\n            }\n            else {\n                const call = yield this.call('kyc-status', 'POST', {\n                    user_token: userTokenOrAccount\n                });\n                return (call === null || call === void 0 ? void 0 : call.kycStatus) || 'NONE';\n            }\n        });\n    }\n    getRails() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.call('rails');\n        });\n    }\n    getHookHash(hookHash) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (typeof hookHash === 'string' && hookHash.trim().match(/^[A-Fa-f0-9]{64}$/)) {\n                return yield this.call('hookhash/' + hookHash.trim());\n            }\n            throw Error('Invalid Hook Hash (expecting 64 char hex)');\n        });\n    }\n    getHookHashes() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.call('hookhash');\n        });\n    }\n    getTransaction(txHash) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.call('xrpl-tx/' + txHash.trim());\n        });\n    }\n    getNftokenDetail(tokenId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.jwtFlow) {\n                throw new Error('getNftokenDetail: only available in JWT (XummSdkJwt) mode');\n            }\n            return yield this.call('nftoken-detail/' + tokenId.trim());\n        });\n    }\n    verifyUserTokens(userTokens) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return (yield this.call('user-tokens', 'POST', {\n                tokens: Array.isArray(userTokens) ? userTokens : [userTokens]\n            })).tokens;\n        });\n    }\n    // Internal\n    _inject(Invoker) {\n        if (!this.injected) {\n            this.invoker = Invoker;\n        }\n        else {\n            throw new Error('Cannot `_inject` twice');\n        }\n    }\n}\nexports.Meta = Meta;\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Storage = void 0;\nconst debug_1 = require(\"debug\");\nconst utils_1 = require(\"./utils\");\nconst log = debug_1.debug('xumm-sdk:storage');\nclass Storage {\n    constructor(MetaObject) {\n        log('Constructed');\n        this.Meta = MetaObject;\n    }\n    get() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const call = yield this.Meta.call('app-storage', 'GET');\n            utils_1.throwIfError(call);\n            return call.data;\n        });\n    }\n    set(data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const call = yield this.Meta.call('app-storage', 'POST', data);\n            utils_1.throwIfError(call);\n            return call.stored;\n        });\n    }\n    delete() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const call = yield this.Meta.call('app-storage', 'DELETE');\n            utils_1.throwIfError(call);\n            return call.stored;\n        });\n    }\n}\nexports.Storage = Storage;\n", "var naiveFallback = function () {\n\tif (typeof self === \"object\" && self) return self;\n\tif (typeof window === \"object\" && window) return window;\n\tthrow new Error(\"Unable to resolve global `this`\");\n};\n\nmodule.exports = (function () {\n\tif (this) return this;\n\n\t// Unexpected strict mode (may happen if e.g. bundled into ESM module)\n\n\t// Fallback to standard globalThis if available\n\tif (typeof globalThis === \"object\" && globalThis) return globalThis;\n\n\t// Thanks @mathiasbynens -> https://mathiasbynens.be/notes/globalthis\n\t// In all ES5+ engines global object inherits from Object.prototype\n\t// (if you approached one that doesn't please report)\n\ttry {\n\t\tObject.defineProperty(Object.prototype, \"__global__\", {\n\t\t\tget: function () { return this; },\n\t\t\tconfigurable: true\n\t\t});\n\t} catch (error) {\n\t\t// Unfortunate case of updates to Object.prototype being restricted\n\t\t// via preventExtensions, seal or freeze\n\t\treturn naiveFallback();\n\t}\n\ttry {\n\t\t// Safari case (window.__global__ works, but __global__ does not)\n\t\tif (!__global__) return naiveFallback();\n\t\treturn __global__;\n\t} finally {\n\t\tdelete Object.prototype.__global__;\n\t}\n})();\n", "{\n  \"name\": \"websocket\",\n  \"description\": \"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.\",\n  \"keywords\": [\n    \"websocket\",\n    \"websockets\",\n    \"socket\",\n    \"networking\",\n    \"comet\",\n    \"push\",\n    \"RFC-6455\",\n    \"realtime\",\n    \"server\",\n    \"client\"\n  ],\n  \"author\": \"Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)\",\n  \"contributors\": [\n    \"Iñaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)\"\n  ],\n  \"version\": \"1.0.35\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/theturtle32/WebSocket-Node.git\"\n  },\n  \"homepage\": \"https://github.com/theturtle32/WebSocket-Node\",\n  \"engines\": {\n    \"node\": \">=4.0.0\"\n  },\n  \"dependencies\": {\n    \"bufferutil\": \"^4.0.1\",\n    \"debug\": \"^2.2.0\",\n    \"es5-ext\": \"^0.10.63\",\n    \"typedarray-to-buffer\": \"^3.1.5\",\n    \"utf-8-validate\": \"^5.0.2\",\n    \"yaeti\": \"^0.0.6\"\n  },\n  \"devDependencies\": {\n    \"buffer-equal\": \"^1.0.0\",\n    \"gulp\": \"^4.0.2\",\n    \"gulp-jshint\": \"^2.0.4\",\n    \"jshint-stylish\": \"^2.2.1\",\n    \"jshint\": \"^2.0.0\",\n    \"tape\": \"^4.9.1\"\n  },\n  \"config\": {\n    \"verbose\": false\n  },\n  \"scripts\": {\n    \"test\": \"tape test/unit/*.js\",\n    \"gulp\": \"gulp\"\n  },\n  \"main\": \"index\",\n  \"directories\": {\n    \"lib\": \"./lib\"\n  },\n  \"browser\": \"lib/browser.js\",\n  \"license\": \"Apache-2.0\"\n}\n", "module.exports = require('../package.json').version;\n", "var _globalThis;\nif (typeof globalThis === 'object') {\n\t_globalThis = globalThis;\n} else {\n\ttry {\n\t\t_globalThis = require('es5-ext/global');\n\t} catch (error) {\n\t} finally {\n\t\tif (!_globalThis && typeof window !== 'undefined') { _globalThis = window; }\n\t\tif (!_globalThis) { throw new Error('Could not determine global this'); }\n\t}\n}\n\nvar NativeWebSocket = _globalThis.WebSocket || _globalThis.MozWebSocket;\nvar websocket_version = require('./version');\n\n\n/**\n * Expose a W3C WebSocket class with just one or two arguments.\n */\nfunction W3CWebSocket(uri, protocols) {\n\tvar native_instance;\n\n\tif (protocols) {\n\t\tnative_instance = new NativeWebSocket(uri, protocols);\n\t}\n\telse {\n\t\tnative_instance = new NativeWebSocket(uri);\n\t}\n\n\t/**\n\t * 'native_instance' is an instance of nativeWebSocket (the browser's WebSocket\n\t * class). Since it is an Object it will be returned as it is when creating an\n\t * instance of W3CWebSocket via 'new W3CWebSocket()'.\n\t *\n\t * ECMAScript 5: http://bclary.com/2004/11/07/#a-13.2.2\n\t */\n\treturn native_instance;\n}\nif (NativeWebSocket) {\n\t['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'].forEach(function(prop) {\n\t\tObject.defineProperty(W3CWebSocket, prop, {\n\t\t\tget: function() { return NativeWebSocket[prop]; }\n\t\t});\n\t});\n}\n\n/**\n * Module exports.\n */\nmodule.exports = {\n    'w3cwebsocket' : NativeWebSocket ? W3CWebSocket : null,\n    'version'      : websocket_version\n};\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Payload = void 0;\nconst debug_1 = require(\"debug\");\nconst websocket_1 = require(\"websocket\");\nconst utils_1 = require(\"./utils\");\nconst log = debug_1.debug('xumm-sdk:payload');\nconst logWs = debug_1.debug('xumm-sdk:payload:websocket');\nconst maxSocketConnectAttempts = typeof jest !== 'undefined' ? 0 : 30;\nconst socketConnectAttemptSecondsDelay = 2;\nconst socketKeepaliveSendSeconds = 2;\nconst socketKeepaliveTimeoutSeconds = 10;\nclass Payload {\n    constructor(MetaObject) {\n        log('Constructed');\n        this.Meta = MetaObject;\n    }\n    resolvePayload(payload) {\n        var _a, _b, _c;\n        return __awaiter(this, void 0, void 0, function* () {\n            if (typeof payload === 'string') {\n                return yield this.get(payload, true);\n            }\n            else if (typeof ((_a = payload) === null || _a === void 0 ? void 0 : _a.uuid) !== 'undefined') {\n                return yield this.get(payload.uuid, true);\n            }\n            else if (typeof ((_c = (_b = payload) === null || _b === void 0 ? void 0 : _b.meta) === null || _c === void 0 ? void 0 : _c.uuid) !== 'undefined') {\n                return payload;\n            }\n            throw new Error('Could not resolve payload (not found)');\n        });\n    }\n    create(payload, returnErrors = false) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const directTx = typeof payload.TransactionType !== 'undefined'\n                && typeof payload.txjson === 'undefined';\n            const call = yield this.Meta.call('payload', 'POST', directTx ? { txjson: payload } : payload);\n            if (returnErrors) {\n                utils_1.throwIfError(call);\n            }\n            const isCreatedPayload = ((_a = call) === null || _a === void 0 ? void 0 : _a.next) !== undefined;\n            if (!isCreatedPayload) {\n                return null;\n            }\n            return call;\n        });\n    }\n    get(payload, returnErrors = false) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            const payloadUuid = typeof payload === 'string'\n                ? payload\n                : payload === null || payload === void 0 ? void 0 : payload.uuid;\n            const call = yield this.Meta.call('payload/' + payloadUuid, 'GET');\n            if (returnErrors) {\n                utils_1.throwIfError(call);\n            }\n            const isPayload = ((_b = (_a = call) === null || _a === void 0 ? void 0 : _a.meta) === null || _b === void 0 ? void 0 : _b.uuid) !== undefined;\n            if (!isPayload) {\n                return null;\n            }\n            return call;\n        });\n    }\n    subscribe(payload, callback) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const callbackPromise = new utils_1.DeferredPromise();\n            const payloadDetails = yield this.resolvePayload(payload);\n            if (payloadDetails) {\n                const _u = 'undefined'; // For Jest tests\n                let socket;\n                let keepAlivePing;\n                let keepAliveReinstateTimer;\n                let reconnectAttempts = 0;\n                callbackPromise.promise.then(() => {\n                    clearTimeout(keepAlivePing);\n                    clearTimeout(keepAliveReinstateTimer);\n                    socket.close(1000);\n                });\n                const connect = () => {\n                    var _a, _b;\n                    socket = typeof ((_a = globalThis) === null || _a === void 0 ? void 0 : _a.MockedWebSocket) !== _u && typeof jest !== _u\n                        ? new ((_b = globalThis) === null || _b === void 0 ? void 0 : _b.MockedWebSocket)('ws://xumm.local')\n                        : new websocket_1.w3cwebsocket(this.Meta.endpoint.replace(/^http/, 'ws') + '/sign/' + payloadDetails.meta.uuid);\n                    socket.onopen = () => {\n                        console.log(`Payload ${payloadDetails.meta.uuid}: subscription active (WebSocket opened)`);\n                        keepAlivePing = setInterval(() => {\n                            logWs('Send keepalive');\n                            socket.send('{\"ping\":true}');\n                        }, socketKeepaliveSendSeconds * 1000);\n                    };\n                    socket.onmessage = (MessageEvent) => __awaiter(this, void 0, void 0, function* () {\n                        reconnectAttempts = 0;\n                        const m = MessageEvent.data;\n                        let json = undefined;\n                        try {\n                            json = JSON.parse(m.toString());\n                            if ((json === null || json === void 0 ? void 0 : json.message) && json.message === 'Right back at you!') {\n                                // Keepalive responses\n                                logWs('Keepalive response');\n                                clearTimeout(keepAliveReinstateTimer);\n                                keepAliveReinstateTimer = setTimeout(() => {\n                                    console.log(`WebSocket for ${payloadDetails.meta.uuid} ` +\n                                        `keepalive response timeout, assume dead... (Reconnect)`);\n                                    socket.close(1002, 'Assume dead');\n                                }, socketKeepaliveTimeoutSeconds * 1000);\n                                return;\n                            }\n                            if ((json === null || json === void 0 ? void 0 : json.signed) || (json === null || json === void 0 ? void 0 : json.expired)) {\n                                // The payload has been signed or expired, update the referenced payload\n                                const updatedPayloadDetails = yield this.resolvePayload(payload);\n                                Object.assign(payloadDetails, Object.assign({}, updatedPayloadDetails));\n                            }\n                        }\n                        catch (e) {\n                            // Do nothing\n                            logWs(`Payload ${payloadDetails.meta.uuid}: Received message, unable to parse as JSON`, e);\n                        }\n                        if (json && callback && typeof json.devapp_fetched === 'undefined') {\n                            try {\n                                // log(`Payload ${payload}`, json)\n                                const callbackResult = yield callback({\n                                    uuid: payloadDetails.meta.uuid,\n                                    data: json,\n                                    resolve(resolveData) {\n                                        return __awaiter(this, void 0, void 0, function* () {\n                                            yield callbackPromise.resolve(resolveData || undefined);\n                                        });\n                                    },\n                                    payload: payloadDetails\n                                });\n                                if (callbackResult !== undefined) {\n                                    callbackPromise.resolve(callbackResult);\n                                }\n                            }\n                            catch (e) {\n                                // Do nothing\n                                logWs(`Payload ${payloadDetails.meta.uuid}: Callback exception`, e);\n                                // This one emit for devs to know about this problem\n                                console.log(`Payload ${payloadDetails.meta.uuid}: Callback exception: ${e.message}`);\n                            }\n                        }\n                    });\n                    socket.onclose = (_e) => {\n                        logWs('Closed [code]', _e.code);\n                        logWs('Closed [reason]', _e.reason);\n                        logWs('Closed [wasClean]', _e.wasClean);\n                        clearInterval(keepAlivePing);\n                        clearTimeout(keepAliveReinstateTimer);\n                        // Reconnect\n                        if (_e.code > 1000 || _e.wasClean === false) {\n                            console.log(_e);\n                            logWs('Unhealthy disconnect, reconnecting...', _e.code);\n                            if (reconnectAttempts < maxSocketConnectAttempts) {\n                                if (reconnectAttempts === 0) {\n                                    console.log(`WebSocket for ${payloadDetails.meta.uuid} lost, reconnecting...`);\n                                }\n                                setTimeout(() => {\n                                    reconnectAttempts++;\n                                    logWs('# Reconnect');\n                                    if (typeof jest === 'undefined') {\n                                        socket = connect();\n                                    }\n                                }, socketConnectAttemptSecondsDelay * 1000);\n                            }\n                            else {\n                                if (typeof jest === 'undefined') {\n                                    console.log(`WebSocket for ${payloadDetails.meta.uuid} exceeded reconnect timeouts, give up`);\n                                }\n                            }\n                        }\n                        else {\n                            // Socket closed on purpose (?)\n                        }\n                        logWs(`Payload ${payloadDetails.meta.uuid}: Subscription ended (WebSocket closed)`);\n                    };\n                    return socket;\n                };\n                socket = connect();\n                return {\n                    payload: payloadDetails,\n                    resolve(resolveData) {\n                        callbackPromise.resolve(resolveData || undefined);\n                    },\n                    resolved: callbackPromise.promise,\n                    websocket: socket\n                };\n            }\n            utils_1.throwIfError(payloadDetails);\n            throw Error(`Couldn't subscribe: couldn't fetch payload`);\n        });\n    }\n    cancel(payload, returnErrors = false) {\n        var _a, _b, _c;\n        return __awaiter(this, void 0, void 0, function* () {\n            const fullPayload = yield this.resolvePayload(payload);\n            const call = yield this.Meta.call('payload/' + ((_a = fullPayload === null || fullPayload === void 0 ? void 0 : fullPayload.meta) === null || _a === void 0 ? void 0 : _a.uuid), 'DELETE');\n            if (returnErrors) {\n                utils_1.throwIfError(call);\n            }\n            const isValidResponse = ((_c = (_b = call) === null || _b === void 0 ? void 0 : _b.meta) === null || _c === void 0 ? void 0 : _c.uuid) !== undefined;\n            if (!isValidResponse) {\n                return null;\n            }\n            return call;\n        });\n    }\n    createAndSubscribe(payload, callback) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const createdPayload = yield this.create(payload, true);\n            if (createdPayload) {\n                const subscription = yield this.subscribe(createdPayload, callback);\n                return Object.assign({ created: createdPayload }, subscription);\n            }\n            throw new Error(`Error creating payload or subscribing to created payload`);\n        });\n    }\n}\nexports.Payload = Payload;\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JwtUserdata = void 0;\nconst debug_1 = require(\"debug\");\nconst utils_1 = require(\"./utils\");\nconst log = debug_1.debug('xumm-sdk:xapp:userdata');\nconst validateKey = (key) => {\n    if (!(typeof key === 'string' && key.match(/^[a-z0-9]{3,}$/))) {\n        throw new Error('Invalid key, only a-z0-9 (min three chars) allowed: ' + key);\n    }\n};\nclass JwtUserdata {\n    constructor(MetaObject) {\n        log('Constructed');\n        this.Meta = MetaObject;\n    }\n    list() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const call = yield this.Meta.call('userdata', 'GET');\n            utils_1.throwIfError(call);\n            return call.keys;\n        });\n    }\n    get(key) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const keys = Array.isArray(key) ? key.join(',') : key;\n            keys.split(',').forEach(k => validateKey(k));\n            const call = yield this.Meta.call('userdata/' + keys, 'GET');\n            utils_1.throwIfError(call);\n            return keys.split(',').length > 1 ? call.data : (((_a = call.data) === null || _a === void 0 ? void 0 : _a[keys]) || {});\n        });\n    }\n    delete(key) {\n        return __awaiter(this, void 0, void 0, function* () {\n            validateKey(key);\n            const call = yield this.Meta.call('userdata/' + key, 'DELETE');\n            utils_1.throwIfError(call);\n            return call.persisted;\n        });\n    }\n    set(key, data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            validateKey(key);\n            const call = yield this.Meta.call('userdata/' + key, 'POST', data);\n            utils_1.throwIfError(call);\n            return call.persisted;\n        });\n    }\n}\nexports.JwtUserdata = JwtUserdata;\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.xApp = void 0;\nconst debug_1 = require(\"debug\");\nconst JwtUserdata_1 = require(\"./JwtUserdata\");\nconst utils_1 = require(\"./utils\");\nconst log = debug_1.debug('xumm-sdk:xapp');\nclass xApp {\n    constructor(MetaObject) {\n        log('Constructed');\n        this.Meta = MetaObject;\n        // Backwards compatibility for old Sdk.xApp.userdata users\n        // - as xApps used to be the only JWT issuing env. - PKCE now is as well\n        this.userdata = new JwtUserdata_1.JwtUserdata(MetaObject);\n    }\n    get(ott) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const call = yield this.Meta.call('xapp/ott/' + ott, 'GET');\n            utils_1.throwIfError(call);\n            return call;\n        });\n    }\n}\nexports.xApp = xApp;\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Push = void 0;\nconst debug_1 = require(\"debug\");\nconst JwtUserdata_1 = require(\"./JwtUserdata\");\nconst utils_1 = require(\"./utils\");\nconst log = debug_1.debug('xumm-sdk:xapp');\nclass Push {\n    constructor(MetaObject) {\n        log('Constructed');\n        this.Meta = MetaObject;\n        // Backwards compatibility for old Sdk.xApp.userdata users\n        // - as xApps used to be the only JWT issuing env. - PKCE now is as well\n        this.userdata = new JwtUserdata_1.JwtUserdata(MetaObject);\n    }\n    event(data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const call = yield this.Meta.call('xapp/event', 'POST', data);\n            utils_1.throwIfError(call);\n            return call;\n        });\n    }\n    notification(data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const call = yield this.Meta.call('xapp/push', 'POST', data);\n            utils_1.throwIfError(call);\n            return call;\n        });\n    }\n}\nexports.Push = Push;\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.XummSdkJwt = exports.XummSdk = void 0;\nconst debug_1 = require(\"debug\");\nconst Meta_1 = require(\"./Meta\");\nconst Storage_1 = require(\"./Storage\");\nconst Payload_1 = require(\"./Payload\");\nconst xApp_1 = require(\"./xApp\");\nconst Push_1 = require(\"./Push\");\nconst JwtUserdata_1 = require(\"./JwtUserdata\");\nconst buffer_1 = require(\"buffer\");\nconst log = debug_1.debug('xumm-sdk');\nclass XummSdk {\n    constructor(apiKey, apiSecret) {\n        log('Constructed');\n        this.Meta = new Meta_1.Meta(apiKey || this.getEnv('XUMM_APIKEY'), apiSecret || this.getEnv('XUMM_APISECRET'));\n        this.storage = new Storage_1.Storage(this.Meta);\n        this.payload = new Payload_1.Payload(this.Meta);\n        this.jwtUserdata = new JwtUserdata_1.JwtUserdata(this.Meta);\n        this.Push = new Push_1.Push(this.Meta);\n        this.xApp = new xApp_1.xApp(this.Meta);\n        this.Meta._inject(this);\n        return this;\n    }\n    getEnv(arg) {\n        let value = '';\n        try {\n            value = (process === null || process === void 0 ? void 0 : process.env[arg]) || '';\n        }\n        catch (_e) {\n            // Couldn't load .env\n        }\n        return value;\n    }\n    /**\n     * Proxy methods to Meta class below\n     */\n    ping() {\n        return this.Meta.ping();\n    }\n    getCuratedAssets() {\n        return this.Meta.getCuratedAssets();\n    }\n    getRails() {\n        return this.Meta.getRails();\n    }\n    getHookHashes() {\n        return this.Meta.getHookHashes();\n    }\n    getHookHash(hookHash) {\n        return this.Meta.getHookHash(hookHash);\n    }\n    getRates(currencyCode) {\n        return this.Meta.getRates(currencyCode);\n    }\n    getKycStatus(userTokenOrAccount) {\n        return this.Meta.getKycStatus(userTokenOrAccount);\n    }\n    getTransaction(txHash) {\n        return this.Meta.getTransaction(txHash);\n    }\n    getNftokenDetail(tokenId) {\n        return this.Meta.getNftokenDetail(tokenId);\n    }\n    verifyUserTokens(userTokens) {\n        return this.Meta.verifyUserTokens(userTokens);\n    }\n    verifyUserToken(token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const tokenResults = yield this.Meta.verifyUserTokens([token]);\n            return Array.isArray(tokenResults) && tokenResults.length === 1\n                ? tokenResults[0]\n                : null;\n        });\n    }\n    setEndpoint(endpoint) {\n        return this.Meta.setEndpoint(endpoint);\n    }\n    caught(error) {\n        throw error;\n    }\n}\nexports.XummSdk = XummSdk;\nclass XummSdkJwt extends XummSdk {\n    constructor(apiKeyOrJwt, ott, options) {\n        var _a, _b, _c, _d, _f, _g, _h, _j;\n        let _ott = String(ott || '').trim().toLowerCase();\n        const isRawJwt = apiKeyOrJwt.length !== 36;\n        /**\n         * xAppToken from URL to param if not explicitly provided\n         */\n        if (!isRawJwt) {\n            if (typeof ott === 'undefined'\n                && typeof window !== 'undefined'\n                && typeof window.URLSearchParams !== 'undefined') {\n                const urlSearchParams = new window.URLSearchParams(((_a = window === null || window === void 0 ? void 0 : window.location) === null || _a === void 0 ? void 0 : _a.search) || '');\n                for (const pair of urlSearchParams.entries()) {\n                    if (pair[0] === 'xAppToken') {\n                        _ott = pair[1].toLowerCase().trim();\n                    }\n                }\n                if (_ott === '' && !(options === null || options === void 0 ? void 0 : options.store) && !(options === null || options === void 0 ? void 0 : options.noAutoRetrieve)) {\n                    // Check if we have something in history\n                    if (typeof ((_b = window === null || window === void 0 ? void 0 : window.localStorage) === null || _b === void 0 ? void 0 : _b['XummSdkJwt']) === 'string') {\n                        try {\n                            const localStorageJwtData = (_d = (_c = window === null || window === void 0 ? void 0 : window.localStorage) === null || _c === void 0 ? void 0 : _c['XummSdkJwt']) === null || _d === void 0 ? void 0 : _d.split(':');\n                            const localStorageJwt = JSON.parse((_f = localStorageJwtData === null || localStorageJwtData === void 0 ? void 0 : localStorageJwtData.slice(1)) === null || _f === void 0 ? void 0 : _f.join(':'));\n                            if (localStorageJwt === null || localStorageJwt === void 0 ? void 0 : localStorageJwt.jwt) {\n                                const decodedJwt = buffer_1.Buffer.from((_g = localStorageJwt.jwt.split('.')) === null || _g === void 0 ? void 0 : _g[1], 'base64').toString('utf8');\n                                const jwtContents = JSON.parse(decodedJwt);\n                                if (jwtContents === null || jwtContents === void 0 ? void 0 : jwtContents.exp) {\n                                    const validForSec = (jwtContents === null || jwtContents === void 0 ? void 0 : jwtContents.exp) - Math.floor((new Date()).getTime() / 1000);\n                                    console.log('Restoring OTT ' + (localStorageJwtData === null || localStorageJwtData === void 0 ? void 0 : localStorageJwtData[0]));\n                                    if (validForSec > 60 * 60) {\n                                        _ott = localStorageJwtData === null || localStorageJwtData === void 0 ? void 0 : localStorageJwtData[0];\n                                    }\n                                    else {\n                                        console.log('Skip restore: not valid for one more hour');\n                                    }\n                                }\n                            }\n                        }\n                        catch (e) {\n                            console.log('JWT Restore Error', e);\n                        }\n                    }\n                }\n            }\n        }\n        super(apiKeyOrJwt, !isRawJwt && _ott !== ''\n            ? 'xApp:OneTimeToken:' + _ott\n            : 'RAWJWT:' + apiKeyOrJwt);\n        this.resolve = (ottData) => {\n            log('OTT data resolved', ottData);\n        };\n        this.reject = (error) => {\n            log('OTT data rejected', error.message);\n        };\n        this.ottResolved = isRawJwt\n            ? Promise.resolve()\n            : new Promise((resolve, reject) => {\n                this.resolve = resolve;\n                this.reject = reject;\n            });\n        if (options === null || options === void 0 ? void 0 : options.fatalHandler) {\n            this.fatalHandler = options.fatalHandler;\n        }\n        this.store = {\n            get(uuid) {\n                var _a;\n                log('[JwtStore] » Builtin JWT store GET');\n                // Default store: localStorage\n                if (typeof window !== 'undefined' && typeof window.localStorage !== 'undefined') {\n                    if (typeof window.localStorage['XummSdkJwt'] === 'string') {\n                        const lsOttData = window.localStorage['XummSdkJwt'].split(':');\n                        if (lsOttData[0] === uuid) {\n                            // Restore from memory\n                            log('Restoring OTT from localStorage:', uuid);\n                            try {\n                                return JSON.parse(lsOttData.slice(1).join(':'));\n                            }\n                            catch (e) {\n                                log('Error restoring OTT Data (JWT) from localStorage', (_a = e) === null || _a === void 0 ? void 0 : _a.message);\n                            }\n                        }\n                    }\n                }\n            },\n            set(uuid, ottData) {\n                log('[JwtStore] » Builtin JWT store SET', uuid);\n                // Default store: localStorage\n                if (typeof window !== 'undefined' && typeof localStorage !== 'undefined') {\n                    window.localStorage['XummSdkJwt'] = uuid + ':' + JSON.stringify(ottData);\n                }\n            }\n        };\n        if ((_h = options === null || options === void 0 ? void 0 : options.store) === null || _h === void 0 ? void 0 : _h.get) {\n            this.store.get = options.store.get;\n        }\n        if ((_j = options === null || options === void 0 ? void 0 : options.store) === null || _j === void 0 ? void 0 : _j.set) {\n            this.store.set = options.store.set;\n        }\n        if (isRawJwt) {\n            this.reject(new Error('Not in OTT flow: in raw JWT (OAuth2-like) flow'));\n            log('Using JWT (Raw, OAuth2) flow');\n        }\n        else {\n            log('Using JWT (xApp) flow');\n        }\n    }\n    _jwtStore(invoker, persistJwt) {\n        if (invoker && (invoker === null || invoker === void 0 ? void 0 : invoker.constructor) === Meta_1.Meta) {\n            return {\n                get: uuid => {\n                    var _a;\n                    log('[JwtStore] Proxy GET');\n                    return (_a = this.store) === null || _a === void 0 ? void 0 : _a.get(uuid);\n                },\n                set: (uuid, ottData) => {\n                    var _a;\n                    log('[JwtStore] Proxy SET');\n                    this.resolve(ottData.ott);\n                    persistJwt(ottData.jwt);\n                    this.jwt = ottData.jwt;\n                    return (_a = this.store) === null || _a === void 0 ? void 0 : _a.set(uuid, ottData);\n                }\n            };\n        }\n        throw new Error('Invalid _jwtStore invoker');\n    }\n    getOttData() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const resolved = yield this.ottResolved;\n            if (resolved) {\n                return resolved;\n            }\n            throw new Error('Called getOttData on a non OTT-JWT flow');\n        });\n    }\n    getJwt() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.ottResolved;\n            return this.jwt;\n        });\n    }\n    caught(error) {\n        this.reject(error);\n    }\n}\nexports.XummSdkJwt = XummSdkJwt;\n"],
  "mappings": "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",
  "names": ["global", "Promise", "globalThis", "exports", "options", "require_browser", "require_browser", "_a"]
}
